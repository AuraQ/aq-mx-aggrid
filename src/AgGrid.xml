<?xml version="1.0" encoding="utf-8" ?>
<widget
    id="com.auraq.aggrid.AgGrid"
    pluginWidget="true"
    needsEntityContext="true"
    offlineCapable="true"
    supportedPlatform="Web"
    xmlns="http://www.mendix.com/widget/1.0/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../node_modules/mendix/custom_widget.xsd"
>
    <name>AG Grid</name>
    <description>Custom grid control using AG Grid</description>
    <icon />
    <properties>
        <propertyGroup caption="Core config">
            <propertyGroup caption="General">
                <property key="gridData" type="datasource" isList="true" required="true">
                    <caption>Data source</caption>
                    <description />
                </property>
                <property key="selectionType" type="enumeration" defaultValue="none">
                    <caption>Selection</caption>
                    <description />
                    <enumerationValues>
                        <enumerationValue key="none">None</enumerationValue>
                        <enumerationValue key="singleRow">Single</enumerationValue>
                        <enumerationValue key="multiRow">Multi</enumerationValue>
                    </enumerationValues>
                </property>
                <property key="selectionMethod" type="enumeration" defaultValue="checkbox">
                    <caption>Selection Method</caption>
                    <description />
                    <enumerationValues>
                        <enumerationValue key="checkbox">Checkbox</enumerationValue>
                        <enumerationValue key="rowClick">Row Click</enumerationValue>
                    </enumerationValues>
                </property>
                <property key="singleSelectedAssociation" type="association" selectableObjects="gridData" required="false">
                    <caption>Selected Item Association</caption>
                    <description>Association from Context object that will hold the selected item</description>
                    <associationTypes>
                        <associationType name="Reference" />
                    </associationTypes>
                </property>
                <property key="multiSelectedAssociation" type="association" selectableObjects="gridData" required="false">
                    <caption>Selected Item/s Association</caption>
                    <description>Association from Context object that will hold the selected item/s</description>
                    <associationTypes>
                        <associationType name="ReferenceSet" />
                    </associationTypes>
                </property>
            </propertyGroup>
            <propertyGroup caption="Columns">
                <property key="columns" type="object" isList="true" required="true">
                    <caption>Columns</caption>
                    <description />
                    <properties>
                        <propertyGroup caption="General">
                            <property key="showContentAs" type="enumeration" defaultValue="attribute">
                                <caption>Show</caption>
                                <description />
                                <enumerationValues>
                                    <enumerationValue key="attribute">Attribute</enumerationValue>
                                    <enumerationValue key="dynamicText">Dynamic text</enumerationValue>
                                    <enumerationValue key="customContent">Custom content</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="attribute" type="attribute" dataSource="../gridData" required="true">
                                <caption>Attribute</caption>
                                <description />
                                <attributeTypes>
                                    <attributeType name="String" />
                                    <attributeType name="Enum" />
                                    <attributeType name="Decimal" />
                                    <attributeType name="Binary" />
                                    <attributeType name="Boolean" />
                                    <attributeType name="Integer" />
                                    <attributeType name="Long" />
                                    <attributeType name="DateTime" />
                                </attributeTypes>
                            </property>
                            <property key="caption" type="string" required="true">
                                <caption>Caption</caption>
                                <description />
                            </property>
                            <property key="content" type="widgets" dataSource="../gridData" required="false">
                                <caption>Custom content</caption>
                                <description />
                            </property>
                            <property key="dynamicText" type="textTemplate" dataSource="../gridData" required="false">
                                <caption>Dynamic text</caption>
                                <description />
                            </property>
                            <property key="allowEventPropagation" type="boolean" defaultValue="true">
                                <caption>Allow row events</caption>
                                <description>If set to yes, then all default events on the row, such as "on click" or selection, will be triggered when the user interacts with custom content.</description>
                            </property>
                        </propertyGroup>
                        <propertyGroup caption="Column Capabilities">
                            <property key="pinColumn" type="enumeration" defaultValue="none">
                                <caption>Pin Column</caption>
                                <description>Whether (and where) to pin the column</description>
                                <enumerationValues>
                                    <enumerationValue key="none">Not Pinned</enumerationValue>
                                    <enumerationValue key="left">Left</enumerationValue>
                                    <enumerationValue key="right">Right</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="lockColumn" type="enumeration" defaultValue="none">
                                <caption>Lock Column</caption>
                                <description>Whether (and where) to lock the column</description>
                                <enumerationValues>
                                    <enumerationValue key="none">Not Locked</enumerationValue>
                                    <enumerationValue key="left">Left</enumerationValue>
                                    <enumerationValue key="right">Right</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="canReorder" type="enumeration" defaultValue="default">
                                <caption>Can Reorder</caption>
                                <description/>
                                <enumerationValues>
                                    <enumerationValue key="default">Grid Default</enumerationValue>
                                    <enumerationValue key="true">Yes</enumerationValue>
                                    <enumerationValue key="false">No</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="canSort" type="enumeration" defaultValue="default">
                                <caption>Can Sort</caption>
                                <description/>
                                <enumerationValues>
                                    <enumerationValue key="default">Grid Default</enumerationValue>
                                    <enumerationValue key="true">Yes</enumerationValue>
                                    <enumerationValue key="false">No</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="canResize" type="enumeration" defaultValue="default">
                                <caption>Can Resize</caption>
                                <description/>
                                <enumerationValues>
                                    <enumerationValue key="default">Grid Default</enumerationValue>
                                    <enumerationValue key="true">Yes</enumerationValue>
                                    <enumerationValue key="false">No</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="canHide" type="enumeration" defaultValue="default">
                                <caption>Can Hide</caption>
                                <description/>
                                <enumerationValues>
                                    <enumerationValue key="default">Grid Default</enumerationValue>
                                    <enumerationValue key="yes">Yes</enumerationValue>
                                    <enumerationValue key="yesHidden">Yes, hidden by default</enumerationValue>
                                    <enumerationValue key="no">No</enumerationValue>
                                </enumerationValues>
                            </property>
                        </propertyGroup>
                        <propertyGroup caption="Appearance">                        
                            <property key="widthType" type="enumeration" defaultValue="default">
                                <caption>Width Type</caption>
                                <description/>
                                <enumerationValues>
                                    <enumerationValue key="default">Default</enumerationValue>
                                    <enumerationValue key="fixedWidth">Fixed Width</enumerationValue>
                                    <enumerationValue key="flex">Flex</enumerationValue>
                                </enumerationValues>
                            </property>
                            <property key="fixedWidth" type="integer" defaultValue="200">
                                <caption>Fixed Width</caption>
                                <description>Fixed Width (in px)</description>
                            </property>
                            <property key="flex" type="integer" defaultValue="1">
                                <caption>Flex</caption>
                                <description>Flex value</description>
                            </property>
                            <property key="minWidth" type="integer" defaultValue="0">
                                <caption>Min Width</caption>
                                <description>Minimum width (set to 0 for no min width)</description>
                            </property>
                            <property key="maxWidth" type="integer" defaultValue="0">
                                <caption>Max Width</caption>
                                <description>Maximum width (set to 0 for no min width)</description>
                            </property>
                            <property key="dynamicHeaderClass" type="expression" required="false">
                                <caption>Dynamic Header Class</caption>
                                <description />
                                <returnType type="String" />
                            </property>
                            <property key="dynamicCellClass" type="expression" dataSource="../gridData" required="false">
                                <caption>Dynamic Cell Class</caption>
                                <description />
                                <returnType type="String" />
                            </property>
                        </propertyGroup>
                    </properties>
                </property>
            </propertyGroup>            
            <propertyGroup caption="Rows">
                <property key="dynamicRowClass" type="expression" dataSource="gridData" required="false">
                    <caption>Dynamic Row Class</caption>
                    <description />
                    <returnType type="String" />
                </property>
                <property key="enableMasterDetail" type="boolean" defaultValue="false">
                    <caption>Enable Master/Detail</caption>
                    <description/>
                </property>
                <property key="rowIsMaster" type="expression" dataSource="gridData" required="true" defaultValue="false">
                    <caption>Is Master</caption>
                    <description>Whether the current row is a master row (i.e. can be expanded to show details)</description>
                    <returnType type="Boolean" />
                </property>
                <property key="detailContent" type="widgets" dataSource="gridData" required="false">
                    <caption>Detail Content</caption>
                    <description>The widgets to display when master row is expanded</description>
                </property>
            </propertyGroup>
            <propertyGroup caption="Events">
                <property key="onSelectionChanged" type="action">
                    <caption>On selection changed</caption>
                    <description/>
                </property>
            </propertyGroup>
        </propertyGroup>
        <propertyGroup caption="Grid wide configuration">
        <propertyGroup caption="Column capabilities">
            <property key="defaultSortable" type="boolean" defaultValue="true">
                <caption>Sorting</caption>
                <description>Allow sorting on all columns by default</description>
            </property>
            <property key="defaultResizable" type="boolean" defaultValue="true">
                <caption>Resizing</caption>
                <description>Allow resizing on all columns by default</description>
            </property>
            <property key="defaultReordable" type="boolean" defaultValue="true">
                <caption>Reordering</caption>
                <description>Allow reordering on all columns by default</description>
            </property>
            <property key="defaultHiding" type="boolean" defaultValue="true">
                <caption>Hiding</caption>
                <description>Allow hiding on all columns by default</description>
            </property>
        </propertyGroup>
        </propertyGroup>
        <propertyGroup caption="General">
        <property key="licenceKey" type="expression" required="true">
                <caption>Enterprise licence key</caption>
                <description />
                <returnType type="String" />
            </property>
            <property key="enableDarkTheme" type="expression" required="true" defaultValue="false">
                <caption>Enable Dark Theme</caption>
                <description>Whether to enable dark theme (ag-theme-quartz-auto-dark) or not (ag-theme-quartz)</description>
                <returnType type="Boolean" />
            </property>
            <property key="logLevel" type="expression" required="true" defaultValue="'log'">
                <caption>Log Level</caption>
                <description>Should resolve to 'trace', 'debug', 'log', 'warn', 'error', or will default to 'log'</description>
                <returnType type="String" />
            </property>
        </propertyGroup>
    </properties>
</widget>
